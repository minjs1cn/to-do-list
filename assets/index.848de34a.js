var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,n=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&s(e,a,t[a]);if(l)for(var a of l(t))o.call(t,a)&&s(e,a,t[a]);return e};import{l as i,u as c,r as d,f as u,R as p,M as m,L as f,s as h,T as y,a as g,B as E,S as b,b as k,c as v,d as O,e as j,n as P,g as S,h as _,i as x,j as w,P as C}from"./vendor.b97de09f.js";let I;const L={},A=function(e,t){if(!t||0===t.length)return e();if(void 0===I){const e=document.createElement("link").relList;I=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`/to-do-list/${e}`)in L)return;L[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const l=document.createElement("link");return l.rel=t?"stylesheet":I,t||(l.as="script",l.crossOrigin=""),l.href=e,document.head.appendChild(l),t?new Promise(((e,t)=>{l.addEventListener("load",e),l.addEventListener("error",t)})):void 0}))).then((()=>e()))},T=i((()=>A((()=>import("./index.5e25424a.js")),["assets/index.5e25424a.js","assets/vendor.b97de09f.js","assets/vendor.761616c2.css"]))),D=i((()=>A((()=>import("./index.aaf440ae.js")),["assets/index.aaf440ae.js","assets/index.79d3c583.css","assets/vendor.b97de09f.js","assets/vendor.761616c2.css"])));var R=[{key:"home",name:"首页",path:"/",component:T},{key:"list",name:"代办事项",path:"/list",component:D}];const $=()=>{const e=c(),[t,a]=d.exports.useState("");d.exports.useEffect((()=>{let t=u(R,(t=>t.path===e.location.pathname));-1===t&&(t=0),a(R[t].key)}));return p.createElement(m,{mode:"horizontal",theme:"dark",onClick:({key:e})=>{a(e)},selectedKeys:[t]},R.map((e=>p.createElement(m.Item,{key:e.key},p.createElement(f,{to:e.path},e.name)))))};var B={url:"https://github.com/minjs1cn/to-do-list",type:"github"};const J=h.div`
	text-align: center;
`;var N=()=>p.createElement(J,null,p.createElement(y.Link,{target:"_blank",href:B.url},B.type));const U=h(g)`
	min-height: 100%;
`,V=h(g.Content)`
	padding: 16px;
	background-color: #fff;
`,q=h(g.Footer)`
	padding-top: 8px;
	padding-bottom: 8px;
`;var z=()=>p.createElement(E,{basename:"/to-do-list/"},p.createElement(U,null,p.createElement(g.Header,null,p.createElement($,null)),p.createElement(V,null,p.createElement(b,null,R.map((e=>p.createElement(k,{exact:!0,key:e.key,path:e.path,component:e.component}))))),p.createElement(q,null,p.createElement(N,null))));const F="state-todo",H={set(e){localStorage.setItem(F,JSON.stringify(e))},get:()=>JSON.parse(localStorage.getItem(F)||"[]")};var K,M;(M=K||(K={}))[M.All=-1]="All",M[M.UnCompleted=0]="UnCompleted",M[M.Completed=1]="Completed";const W={list:H.get(),filter:-1},G=v("todo/update2",(()=>new Promise((e=>{setTimeout(e,2e3)}))));console.log(G.fulfilled.type);const Q=O({name:"todo",initialState:W,reducers:{add:(e,l)=>{var r,o;e.list.push((r=n({},l.payload),o={uuid:P(),status:0},t(r,a(o))))},update:(e,{payload:t})=>{let a=u(e.list,(e=>e.uuid===t.uuid));-1!==a&&(e.list[a]=n(n({},e.list[a]),t))},delete:(e,t)=>{let a=u(e.list,(e=>e.uuid===t.payload));-1!==a&&e.list.splice(a,1)},toggle:(e,t)=>{let a=u(e.list,(e=>e.uuid===t.payload));-1!==a&&(e.list[a].status=1===e.list[a].status?0:1)},pick:(e,t)=>{e.filter=t.payload}}}),X=j((e=>e.todo.list),(e=>e.todo.filter),((e,t)=>{switch(t){case 1:return e.filter((e=>1===e.status));case 0:return e.filter((e=>0===e.status));default:return e}})),Y=j((e=>e.todo.list),((e,t)=>t),((e,t)=>{let a=e.filter((e=>e.uuid===t));return a.length?a[0]:null}));const Z=S({reducer:{todo:Q.reducer}});Z.subscribe((()=>{console.log(Z.getState()),H.set(Z.getState().todo.list)}));const ee=()=>_(),te=x;w.render(p.createElement(C,{store:Z},p.createElement(z,null)),document.getElementById("app"));export{K as E,ee as a,X as b,Y as s,Q as t,te as u};
